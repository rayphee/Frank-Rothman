/* ScrollMagic v1.0.8 | (c) Jan Paepke, @janpaepke | license & info: http://janpaepke.github.io/ScrollMagic */
!function($,e){"use strict";var t=function(t){var r="ScrollMagic",n={container:e,vertical:!0,globalSceneOptions:{},loglevel:2},i=this,s=$.extend({},n,t),a=[],l=!1,c=0,g="PAUSED",u=!0,d=0,f=!1,h=!0,p=function(){if($.each(s,function(e){n.hasOwnProperty(e)||(R(2,'WARNING: Unknown option "'+e+'"'),delete s[e])}),s.container=$(s.container).first(),0===s.container.length)return void R(1,"ERROR creating object ScrollMagic: No valid scroll container supplied");u=!$.contains(document,s.container.get(0)),d=s.vertical?s.container.height():s.container.width(),s.container.on("scroll resize",w);try{TweenLite.ticker.addEventListener("tick",m),f=!0}catch(e){s.container.on("scroll resize",m),f=!1}R(3,"added new "+r+" controller")},v=function(){return s.vertical?s.container.scrollTop():s.container.scrollLeft()},m=function(){if(l&&h){var e=$.isArray(l)?l:a,t=c;c=i.scrollPos();var r=c-t;g=0===r?"PAUSED":r>0?"FORWARD":"REVERSE",i.updateScene(e,!0),0===e.length&&s.loglevel>=3&&R(3,"updating 0 Scenes (nothing added to controller)"),l=!1}},w=function(e){"resize"==e.type&&(d=s.vertical?s.container.height():s.container.width()),l=!0},R=function(t){if(s.loglevel>=t){var n="("+r+") ->",i=Array.prototype.splice.call(arguments,1),a=Function.prototype.bind.call(o,e);i.unshift(t,n),a.apply(e,i)}};return this.addScene=function(e){return $.isArray(e)?$.each(e,function(e,t){i.addScene(t)}):e.parent()!=i?e.addTo(i):-1==$.inArray(a,e)&&(a.push(e),$.each(s.globalSceneOptions,function(t,r){e[t]&&e[t].call(e,r)}),R(3,"added Scene ("+a.length+" total)")),i},this.removeScene=function(e){if($.isArray(e))$.each(e,function(e,t){i.removeScene(t)});else{var t=$.inArray(e,a);t>-1&&(a.splice(t,1),e.remove(),R(3,"removed Scene ("+a.length+" total)"))}return i},this.updateScene=function(e,t){return $.isArray(e)?$.each(e,function(r,n){R(3,"updating Scene "+(r+1)+"/"+e.length+" ("+a.length+" total)"),i.updateScene(n,t)}):t?e.update(!0):($.isArray(l)||(l=[]),-1==$.inArray(e,l)&&l.push(e)),i},this.update=function(e){return w({type:"resize"}),e&&m(),i},this.scrollPos=function(e){return arguments.length?($.isFunction(e)||(e=function(){return e}),v=e,i):v.call(i)},this.info=function(e){var t={size:d,vertical:s.vertical,scrollPos:c,scrollDirection:g,container:s.container,isDocument:u};return arguments.length?void 0!==t[e]?t[e]:void R(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(s.loglevel!=e&&(s.loglevel=e),i):s.loglevel},this.enabled=function(e){return arguments.length?(h!=e&&(h=!!e,i.updateScene(a,!0)),i):h},this.destroy=function(e){for(;a.length>0;){var t=a[a.length-1];t.destroy(e)}return s.container.off("scroll resize",w),f?TweenLite.ticker.removeEventListener("tick",m):s.container.off("scroll resize",m),R(3,"destroyed "+r+" (reset: "+(e?"true":"false")+")"),null},p(),i},r=function(t){var r,n,i,a,l=["onCenter","onEnter","onLeave"],c="ScrollScene",g={duration:0,offset:0,triggerElement:null,triggerHook:l[0],reverse:!0,tweenChanges:!1,loglevel:2},u=this,d=$.extend({},g,t),f="BEFORE",h=0,p={start:0,end:0},v=!0,m=function(){R(),u.on("change.internal",function(e){R(),"loglevel"!=e.what&&"tweenChanges"!=e.what&&("reverse"!=e.what&&null===d.triggerElement&&E(),u.update(),("DURING"!==f&&"duration"==e.what||"AFTER"===f&&0===d.duration)&&S())}),u.on("progress.internal",function(){y(),S()})},w=function(t){if(d.loglevel>=t){var r="("+c+") ->",n=Array.prototype.splice.call(arguments,1),i=Function.prototype.bind.call(o,e);n.unshift(t,r),i.apply(e,n)}},R=function(){if($.each(d,function(e){g.hasOwnProperty(e)||(w(2,'WARNING: Unknown option "'+e+'"'),delete d[e])}),d.duration=parseFloat(d.duration),(!$.isNumeric(d.duration)||d.duration<0)&&(w(1,'ERROR: Invalid value for option "duration":',d.duration),d.duration=g.duration),d.offset=parseFloat(d.offset),$.isNumeric(d.offset)||(w(1,'ERROR: Invalid value for option "offset":',d.offset),d.offset=g.offset),null!==d.triggerElement&&0===$(d.triggerElement).length&&(w(1,'ERROR: Element defined in option "triggerElement" was not found:',d.triggerElement),d.triggerElement=g.triggerElement),$.isNumeric(d.triggerHook)||-1!=$.inArray(d.triggerHook,l)||(w(1,'ERROR: Invalid value for option "triggerHook": ',d.triggerHook),d.triggerHook=g.triggerHook),!$.isNumeric(d.loglevel)||d.loglevel<0||d.loglevel>3){var e=d.loglevel;d.loglevel=g.loglevel,w(1,'ERROR: Invalid value for option "loglevel":',e)}if(n&&r&&d.triggerElement&&d.loglevel>=2){var t=n.getTweensOf($(d.triggerElement)),i=r.info("vertical");$.each(t,function(e,t){var r=t.vars.css||t.vars,n=i?void 0!==r.top||void 0!==r.bottom:void 0!==r.left||void 0!==r.right;return n?(w(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1):void 0})}},E=function(){p={start:u.triggerOffset()},r&&(p.start-=r.info("size")*u.triggerHook()),p.end=p.start+d.duration},y=function(e){var t=e>=0&&1>=e?e:h;if(n){if(-1===n.repeat())if(("DURING"===f||"AFTER"===f&&0===d.duration)&&n.paused())n.play();else{if("DURING"===f||n.paused())return!1;n.pause()}else{if(t==n.progress())return!1;0===d.duration?"AFTER"==f?n.play():n.reverse():d.tweenChanges?n.tweenTo(t*n.duration()):n.progress(t).pause()}return!0}return!1},S=function(e){if(i&&r){var t=r.info();if(e||"DURING"!==f&&("AFTER"!==f||0!==d.duration)){var n={position:a.inFlow?"relative":"absolute",top:0,left:0},o=i.css("position")!=n.position;a.pushFollowers?"AFTER"===f&&0===parseFloat(a.spacer.css("padding-top"))?o=!0:"BEFORE"===f&&0===parseFloat(a.spacer.css("padding-bottom"))&&(o=!0):n[t.vertical?"top":"left"]=d.duration*h,i.css(n),o&&(i.removeClass(a.pinnedClass),b())}else{"fixed"!=i.css("position")&&(i.css("position","fixed"),b(),i.addClass(a.pinnedClass));var l=s(a.spacer,!0),c=d.reverse||0===d.duration?t.scrollPos-p.start:Math.round(h*d.duration*10)/10;l.top-=parseFloat(a.spacer.css("margin-top")),l[t.vertical?"top":"left"]+=c,i.css({top:l.top,left:l.left})}}},b=function(){if(i&&r&&a.inFlow){var t="AFTER"===f,n="BEFORE"===f,o="DURING"===f,s="fixed"==i.css("position"),l=r.info("vertical"),c=a.spacer.children().first(),g=$.inArray(a.spacer.css("display"),["block","flex","list-item","table","-webkit-box"])>-1,u={};g?(u["margin-top"]=n||o&&s?i.css("margin-top"):"auto",u["margin-bottom"]=t||o&&s?i.css("margin-bottom"):"auto"):u["margin-top"]=u["margin-bottom"]="auto",a.relSize.width?s?$(e).width()==a.spacer.parent().width()?i.css("width","inherit"):i.css("width",a.spacer.width()):i.css("width","100%"):(u["min-width"]=c.outerWidth(!0),u.width=s?u["min-width"]:"auto"),a.relSize.height?s?$(e).height()==a.spacer.parent().height()?i.css("height","inherit"):i.css("height",a.spacer.height()):i.css("height","100%"):(u["min-height"]=c.outerHeight(!g),u.height=s?u["min-height"]:"auto"),a.pushFollowers&&(u["padding"+(l?"Top":"Left")]=d.duration*h,u["padding"+(l?"Bottom":"Right")]=d.duration*(1-h)),a.spacer.css(u)}},F=function(){r&&i&&"DURING"===f&&!r.info("isDocument")&&S()},A=function(){r&&i&&("DURING"===f||"AFTER"===f&&0===d.duration)&&(a.relSize.width&&$(e).width()!=a.spacer.parent().width()||a.relSize.height&&$(e).height()!=a.spacer.parent().height())&&b()};return this.parent=function(){return r},this.duration=function(e){return arguments.length?(d.duration!=e&&(d.duration=e,u.trigger("change",{what:"duration",newval:e})),u):d.duration},this.offset=function(e){return arguments.length?(d.offset!=e&&(d.offset=e,u.trigger("change",{what:"offset",newval:e})),u):d.offset},this.triggerElement=function(e){return arguments.length?(d.triggerElement!=e&&(d.triggerElement=e,u.trigger("change",{what:"triggerElement",newval:e})),u):d.triggerElement},this.triggerHook=function(e){if(!arguments.length){var t;if($.isNumeric(d.triggerHook))t=d.triggerHook;else switch(d.triggerHook){case"onCenter":t=.5;break;case"onLeave":t=0;break;case"onEnter":default:t=1}return t}return d.triggerHook!=e&&(d.triggerHook=e,u.trigger("change",{what:"triggerHook",newval:e})),u},this.reverse=function(e){return arguments.length?(d.reverse!=e&&(d.reverse=e,u.trigger("change",{what:"reverse",newval:e})),u):d.reverse},this.tweenChanges=function(e){return arguments.length?(d.tweenChanges!=e&&(d.tweenChanges=e,u.trigger("change",{what:"tweenChanges",newval:e})),u):d.tweenChanges},this.loglevel=function(e){return arguments.length?(d.loglevel!=e&&(d.loglevel=e,u.trigger("change",{what:"loglevel",newval:e})),u):d.loglevel},this.state=function(){return f},this.startPosition=function(){return this.triggerOffset()},this.triggerOffset=function(){var e=d.offset;if(r){var t=r.info();if(null===d.triggerElement)e+=t.size*u.triggerHook();else{for(var n=$(d.triggerElement).first(),i=s(r.info("container"));n.parent().data("ScrollMagicPinSpacer");)n=n.parent();var o=s(n);t.isDocument||(i.top-=t.scrollPos,i.left-=t.scrollPos),e+=t.vertical?o.top-i.top:o.left-i.left}}return e},this.scrollOffset=function(){return p.start},this.update=function(e){if(r)if(e)if(r.enabled()&&v){var t,n=r.info("scrollPos");null!==d.triggerElement&&E(),t=d.duration>0?(n-p.start)/(p.end-p.start):n>=p.start?1:0,u.trigger("update",{startPos:p.start,endPos:p.end,scrollPos:n}),u.progress(t)}else i&&"fixed"==i.css("position")&&S(!0);else r.updateScene(u,!1);return u},this.progress=function(e){if(arguments.length){var t=!1,n=f,i=r?r.info("scrollDirection"):"PAUSED";if(0>=e&&"BEFORE"!==f&&(e>=h||d.reverse)?(h=0,f="BEFORE",t=!0):e>0&&1>e&&(e>=h||d.reverse)?(h=e,f="DURING",t=!0):e>=1&&"AFTER"!==f?(h=1,f="AFTER",t=!0):"DURING"!==f||d.reverse||S(),t){var o={progress:h,state:f,scrollDirection:i},s=f!=n,a="BEFORE"===f&&0===d.duration;s&&(("DURING"===f||0===d.duration)&&u.trigger("enter",o),("BEFORE"===f||"BEFORE"===n)&&u.trigger(a?"end":"start",o)),u.trigger("progress",o),s&&(("AFTER"===f||"AFTER"===n)&&u.trigger(a?"start":"end",o),("DURING"!==f||0===d.duration)&&u.trigger("leave",o))}return u}return h},this.setTween=function(e){n&&u.removeTween();try{n=new TimelineMax({smoothChildTiming:!0}).add(e).pause()}catch(e){w(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenMaxObject")}finally{return e.repeat&&-1===e.repeat()&&(n.repeat(-1),n.yoyo(e.yoyo())),R(),w(3,"added tween"),y(),u}},this.removeTween=function(e){return n&&(e&&y(0),n.kill(),n=void 0,w(3,"removed tween (reset: "+(e?"true":"false")+")")),u},this.setPin=function(t,r){var n={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer",pinnedClass:""};if(r=$.extend({},n,r),t=$(t).first(),0===t.length)return w(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),u;if("fixed"==t.css("position"))return w(1,"ERROR: Pin does not work with elements that are positioned 'fixed'."),u;if(i){if(i===t)return u;u.removePin()}i=t,i.parent().hide();var o="absolute"!=i.css("position"),s=i.css(["display","top","left","bottom","right"]),l=i.css(["width","height"]);i.parent().show();var c=$("<div></div>").addClass(r.spacerClass).css(s).data("ScrollMagicPinSpacer",!0).css({position:o?"relative":"absolute","margin-left":"auto","margin-right":"auto","box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box"});return!o&&r.pushFollowers&&(w(2,"WARNING: If the pinned element is positioned absolutely pushFollowers is disabled."),r.pushFollowers=!1),a={spacer:c,relSize:{width:"%"===l.width.slice(-1),height:"%"===l.height.slice(-1)},pushFollowers:r.pushFollowers,inFlow:o,origStyle:i.attr("style"),pinnedClass:r.pinnedClass},a.relSize.width&&c.css("width",l.width),a.relSize.height&&c.css("height",l.height),i.before(c).appendTo(c).css({position:o?"relative":"absolute",top:"auto",left:"auto",bottom:"auto",right:"auto"}),$(e).on("scroll resize",F),w(3,"added pin"),S(),u},this.removePin=function(t){return i&&(t||!r?(i.insertBefore(a.spacer).attr("style",a.origStyle),a.spacer.remove()):"DURING"===f&&S(!0),$(e).off("scroll resize",F),i=void 0,w(3,"removed pin (reset: "+(t?"true":"false")+")")),u},this.addTo=function(e){return r!=e?(r&&r.removeScene(u),r=e,R(),E(),b(),r.info("container").on("resize",A),w(3,"added "+c+" to controller"),e.addScene(u),u.update(),u):void 0},this.enabled=function(e){return arguments.length?(v!=e&&(v=!!e,u.update(!0)),u):v},this.remove=function(){if(r){r.info("container").off("resize",A);var e=r;r=void 0,w(3,"removed "+c+" from controller"),e.removeScene(u)}return u},this.destroy=function(e){return this.removeTween(e),this.removePin(e),this.remove(),this.off("start end enter leave progress change update change.internal progress.internal"),w(3,"destroyed "+c+" (reset: "+(e?"true":"false")+")"),null},this.on=function(e,t){if($.isFunction(t)){var r=$.trim(e).toLowerCase().replace(/(\w+)\.(\w+)/g,"$1."+c+"_$2").replace(/( |^)(\w+)( |$)/g,"$1$2."+c+"$3");$(u).on(r,t)}else w(1,"ERROR calling method 'on()': Supplied argument is not a valid callback!");return u},this.off=function(e,t){var r=$.trim(e).toLowerCase().replace(/(\w+)\.(\w+)/g,"$1."+c+"_$2").replace(/( |^)(\w+)( |$)/g,"$1$2."+c+"$3");return $(u).off(r,t),u},this.trigger=function(e,t){w(3,"event fired:",e,"->",t);var r={type:$.trim(e).toLowerCase(),target:u};return $.isPlainObject(t)&&(r=$.extend({},t,r)),$(u).trigger(r),u},m(),u};e.ScrollScene=r,e.ScrollMagic=t;var n=e.console=e.console||{},i=["error","warn","log"];n.log||(n.log=$.noop),$.each(i,function(e,t){n[t]||(n[t]=n.log)});var o=function(e){(e>i.length||0>=e)&&(e=i.length);var t=new Date,r=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),o=i[e-1],s=Array.prototype.splice.call(arguments,1),a=Function.prototype.bind.call(n[o],n);s.unshift(r),a.apply(n,s)},s=function(e,t){var r={top:0,left:0},n=e[0];if(n)if(n.getBoundingClientRect){var i=n.getBoundingClientRect();r.top=i.top,r.left=i.left,t||(r.top+=$(document).scrollTop(),r.left+=$(document).scrollLeft())}else r=e.offset()||r,t&&(r.top-=$(document).scrollTop(),r.left-=$(document).scrollLeft());return r}}(jQuery,window);